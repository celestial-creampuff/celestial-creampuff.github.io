---
title: "[AWS] 기초부터 시작하는 AWS 구축하기 2"
date: 2023-08-20 01:00:00 -0400
categories: AWS VPC Subnet
tags:
    - AWS
    - VPC
    - Subnet
toc: true
toc_sticky: true
---

## 학습목표
이번 게시물의 학습목표는 아래와 같다.
- Subnet의 개념을 이해한다.
- 전에 만들었던 VPC안에 Subnet을 할당한다.
- 가상 네트워크를 구축할 때 어떠한 요소가 필요한지 이해해본다.

## 1. Subnet이란?
**Subent(서브넷)** 이란 VPC의 IP 주소 범위이며, IP의 주소 범위를 논리적으로 분리하는 개념이다. 추후에 인스턴스나 RDS를 만들 때 해당 리소스의 아이피의 범위는 어떠한 서브넷에 배치되었는 지에 따라 분배된다고 보면된다. 즉, 서브넷은 VPC 안에서 더욱 많은 네트워크 망을 구성하기 위한 단계라고 보면 된다.<br> 하나의 서브넷은 여러 가용 영역이 아닌, 단일 가용 영역에 상주해야 한다. 서브넷을 추가하고 나서는 VPC에 AWS 리소스를 배포하는 것이 가능해지며, 별도의 가용 영역에서 AWS 리소스를 시작하면 단일 가용 영역의 장애물로부터 애플리케이션을 보호할 수 있다.<br><br>

서브넷은 보통 외부와 통신이 필요한 Public Subnet, 보안을 목적으로 하는 Private Subnet으로 나눈다. 여기서 나는 Public Subnet 2개를 만들고 Private Subnet은 6개를 만들 계획이다. (Private Subnet은 WEB, WAS, DB를 만들 것이다!)<br><br>
왜 보이는것은 4개인데 만드는 것은 8개?<br>
=> 이렇게 하는 것은 각각 2개씩 만들기 위함인데 목적은 중단 없이 계속 돌아가게 하는 **고가용성**을 위한 것이다~<br>

만약 사건이나 재난으로 인해 하나의 가용 영역이 마비가 되었다면??<br>
=> 내가 그 가용 영역에서 배치한 서비스들 또한 죽을 것이다.<br>

물론 DEV 환경이나 테스트를 목적으로 만들었다면 상관이 없을 것이다.<br> 하지만 이게 실제로 운영하는 서비스이고 절대로 중단이 되어서는 안되는 서비스라면?<br>
=> 결국 손실을 막대하게 입고, 서비스는 중단이 될 것이다. 이것을 방지하기 위해 AWS에서도 서비스를 2개 이상의 가용영역에 배치하는 것을 권장한다고 하자!<br><br>
만약 절대로 멈춰서는 안되는 서비스라면 돈은 2배 이상으로 더 들더라도 고가용성을 위해 여러 가용영역에 서브넷을 구성하고 거기에 리소스를 배치하는 것을 추천한다~

### 1-1. Subnet 구성하기
간단하게 Subnet을 구성하는 방법을 알아보자<br><br>
1. 먼저 VPC 콘솔에서 좌측 사이드바에 서브넷을 들어가주자.<br>
그리고 서브넷 생성을 클릭한다.
![서브넷 구성하기 1](/assets/2023-08/Subnet/스크린샷%202023-08-20%20오전%2010.04.41.png)<br><br>
2. 처음으로 VPC를 고르라고 할 텐데, 이때 돋보기 버튼을 클릭하여 내가 어떤 VPC에 서브넷을 만들어줄지 고르는 것으로 보면 된다. 여기서는 내가 전에 만들었던 VPC를 선택하자.
![서브넷 구성하기 2](/assets/2023-08/Subnet/스크린샷%202023-08-20%20오전%2010.04.58.png)<br><br>
3. 다음으로 찐으로 서브넷을 구성하는 단계이다!<br>
여기서는 서브넷 이름과 가용 영역, IP 할당 범위를 적어줘야 한다. 그리고 새 서브넷 추가를 눌러 계속 서브넷을 만들 수 있다~<br>
내가 만들었던 서브넷과 IP 대역은 맨 밑에 참고로 둘 테니 그것을 먼저 참고해서 보자!(서브넷 생성 시 정보 목록 참고) <br>
![서브넷 구성하기 3](/assets/2023-08/Subnet/스크린샷%202023-08-20%20오전%2010.08.53.png)<br><br>
4. 마지막까지 다 완성했으면 하단에 서브넷 생성을 클릭해준다.
![서브넷 구성하기 4](/assets/2023-08/Subnet/스크린샷%202023-08-20%20오전%2010.09.07.png)<br><br>
5. 그러면 아래와 같이 8개의 서브넷이 생성된 것을 볼 수 있다!
![서브넷 구성하기 5](/assets/2023-08/Subnet/스크린샷%202023-08-20%20오전%2010.09.53.png)<br><br>



### 서브넷 생성 시 정보 목록
|Name|가용 영역|IP 범위|
|------|---|---|
|rmi-public-subnet-01|us-east-2a|10.0.10.0/24|
|rmi-public-subnet-02|us-east-2c|10.0.20.0/24|
|rmi-web-subnet-01|us-east-2a|10.0.30.0/24|
|rmi-web-subnet-02|us-east-2c|10.0.40.0/24|
|rmi-was-subnet-01|us-east-2a|10.0.50.0/24|
|rmi-was-subnet-02|us-east-2c|10.0.60.0/24|
|rmi-db-subnet-01|us-east-2a|10.0.100.0/24|
|rmi-db-subnet-02|us-east-2c|10.0.200.0/24|

<br><br>
끝!!<br><br>
이젠 인터넷 게이트웨이를 설정해보자~

## 참고 및 출처
[Amazon VPC의 서브넷](https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/configure-subnets.html)

[[AWS] VPC란?](https://blog.kico.co.kr/2022/03/08/aws-vpc/)

[[AWS] 가장쉽게 VPC 개념잡기](https://medium.com/harrythegreat/aws-가장쉽게-vpc-개념잡기-71eef95a7098)

[Subnet](https://kimmanbo.notion.site/Subnet-c138f9a9214549df98556ef2ed4f2555)